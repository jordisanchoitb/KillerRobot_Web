(function(){"use strict";var e={3811:function(e,o,r){var n=r(5130),t=r(6768);const a={id:"app"};function i(e,o,r,n,i,s){const l=(0,t.g2)("router-view");return(0,t.uX)(),(0,t.CE)("div",a,[(0,t.bF)(l)])}var s={name:"App"},l=r(1241);const c=(0,l.A)(s,[["render",i]]);var u=c,m=r(1387);function d(e,o,r,n,a,i){const s=(0,t.g2)("ComponentHeader"),l=(0,t.g2)("ComponentNav"),c=(0,t.g2)("ComponentMain");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(s),(0,t.bF)(l,{pagename:"Tabla de puntuaciones"}),(0,t.bF)(c)],64)}const p=e=>((0,t.Qi)("data-v-0ccada5a"),e=e(),(0,t.jt)(),e),h={id:"imagelogo"},g={id:"content"},A=p((()=>(0,t.Lk)("h1",{id:"title"},"Hunting Simulacrum",-1))),f={id:"divbutton"};function w(e,o,r,n,a,i){return(0,t.uX)(),(0,t.CE)("header",null,[(0,t.Lk)("div",h,[(0,t.Lk)("div",g,[A,(0,t.Lk)("div",f,[(0,t.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>i.vermas&&i.vermas(...e)),id:"buttonvermas"},"Ver más")])])])])}var v={name:"ComponentHeader",methods:{vermas(){document.getElementById("navcontent").scrollIntoView({behavior:"smooth"})}}};const C=(0,l.A)(v,[["render",w],["__scopeId","data-v-0ccada5a"]]);var b=C,k=r(4232);const L=e=>((0,t.Qi)("data-v-19a6dfe8"),e=e(),(0,t.jt)(),e),S={id:"navcontent"},E={key:0},y=L((()=>(0,t.Lk)("a",{href:"#"},"Hunting Simulacrum",-1))),F=[y],P={key:1},I={key:2},N={key:3};function H(e,o,r,n,a,i){const s=(0,t.g2)("router-link");return(0,t.uX)(),(0,t.CE)("nav",null,[(0,t.Lk)("div",S,[(0,t.Lk)("ul",null,["/"==this.$route.path?((0,t.uX)(),(0,t.CE)("li",E,F)):((0,t.uX)(),(0,t.CE)("li",P,[(0,t.bF)(s,{to:"/"},{default:(0,t.k6)((()=>[(0,t.eW)("Hunting Simulacrum")])),_:1})])),(0,t.Lk)("li",null,[(0,t.bF)(s,{to:i.computedRoutePage},{default:(0,t.k6)((()=>[(0,t.eW)((0,k.v_)(r.pagename),1)])),_:1},8,["to"])]),i.getuser?((0,t.uX)(),(0,t.CE)("div",I,[(0,t.Lk)("li",null,[(0,t.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>i.changepassword&&i.changepassword(...e))},"Cambiar contraseña")]),(0,t.Lk)("li",null,[(0,t.Lk)("button",{onClick:o[1]||(o[1]=(...e)=>i.logout&&i.logout(...e))},"Cerrar sesión")])])):((0,t.uX)(),(0,t.CE)("div",N,[(0,t.Lk)("li",null,[(0,t.Lk)("button",{onClick:o[2]||(o[2]=(...e)=>i.login&&i.login(...e))},"Iniciar sesión")]),(0,t.Lk)("li",null,[(0,t.Lk)("button",{onClick:o[3]||(o[3]=(...e)=>i.register&&i.register(...e))},"Registrarse")])]))])])])}r(4114);var X={name:"ComponentNav",props:{pagename:String},methods:{login(){this.$router.push("/login")},register(){this.$router.push("/register")},changepassword(){this.$router.push("/changepassword")},logout(){localStorage.removeItem("user"),window.location.reload()}},computed:{computedRoutePage(){return"/"==this.$route.path?localStorage.getItem("user")?"/scoresweb":"/login":"/"},getuser(){return localStorage.getItem("user")}}};const B=(0,l.A)(X,[["render",H],["__scopeId","data-v-19a6dfe8"]]);var Q=B,D="data:image/png;base64,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",j=r.p+"img/Nivel1Sala1LDD.6a58683e.png",R=r.p+"img/logo.04bcb20a.png";const O=e=>((0,t.Qi)("data-v-4b52dc0e"),e=e(),(0,t.jt)(),e),J=O((()=>(0,t.Lk)("section",{id:"secctionarticles"},[(0,t.Lk)("article",null,[(0,t.Lk)("img",{id:"imgRobot",src:D,alt:"img_Robot"}),(0,t.Lk)("p",null," Hunting Simulacrum es un shooter map, top-down (cámara), arcade donde el personaje irá pasando de sala en sala hasta llegar a la del boss donde tendrá que enfrentarse a él. El personaje tendrá un inventario de dos armas, puede escoger entre armas de distancia o de melee. Las de melee tienen la capacidad de eliminar proyectiles enemigos a la vez de provocar daño a los enemigos de corta distancia. El personaje apunta/defiende dependiendo de la orientación del personaje, independientemente de la posición del ratón. ")]),(0,t.Lk)("article",null,[(0,t.Lk)("img",{id:"imgLvl1",src:j,alt:"img_lvl1-1"}),(0,t.Lk)("p",null," Los enemigos, habrá varios enemigos con distintas mecànicas y atributos, entre ellos hay un enemigo que irá a mele (arma a corta distancia) otro enemigo que irá a mele pero con unos atributos mejores, habrá un enemigo que ataque a distancia y por último un boss que se ubicará en la sala final del nivel. A lo largo del camino habrán obstáculos que dificulten el juego al jugador en las distintas salas. ")])],-1))),T={class:"secctionflex"},U=O((()=>(0,t.Lk)("h2",null,"Descargas",-1))),M={class:"divdescargas"},V=O((()=>(0,t.Lk)("img",{src:R,alt:"logoGame"},null,-1))),K=O((()=>(0,t.Lk)("p",null,"Hunting simulacrum (demo)",-1))),q=O((()=>(0,t.Lk)("section",{class:"secctionflex"},[(0,t.Lk)("h2",null,"Créditos"),(0,t.Lk)("div",{class:"divcreditos"},[(0,t.Lk)("p",null,"Juego hecho por:"),(0,t.Lk)("ul",null,[(0,t.Lk)("li",null,"Qihang Li"),(0,t.Lk)("li",null,"Marcos Gorriaran"),(0,t.Lk)("li",null,"Jordi Sancho")])])],-1)));function G(e,o,r,n,a,i){return(0,t.uX)(),(0,t.CE)("main",null,[J,(0,t.Lk)("section",T,[U,(0,t.Lk)("div",M,[V,K,(0,t.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>i.downloadGame&&i.downloadGame(...e))},"Descargar")])]),q])}var x={name:"ComponentMain",methods:{downloadGame(){const e=`${window.location.origin}/favicon.ico`,o=document.createElement("a");o.href=e,o.setAttribute("download","GameImage"),document.body.appendChild(o),o.click(),document.body.removeChild(o)}}};const Y=(0,l.A)(x,[["render",G],["__scopeId","data-v-4b52dc0e"]]);var W=Y,z={name:"ViewHome",components:{ComponentHeader:b,ComponentNav:Q,ComponentMain:W}};const Z=(0,l.A)(z,[["render",d],["__scopeId","data-v-56f9b49d"]]);var _=Z;function $(e,o,r,n,a,i){const s=(0,t.g2)("ComponentHeaderSmall"),l=(0,t.g2)("ComponentNav"),c=(0,t.g2)("ComponentMainScores");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(s),(0,t.bF)(l,{pagename:"Home"}),(0,t.bF)(c,{scores:a.scores,onFilter:i.getFilterName,error:a.errorpeticion},null,8,["scores","onFilter","error"])],64)}const ee=e=>((0,t.Qi)("data-v-1b3ca441"),e=e(),(0,t.jt)(),e),oe=ee((()=>(0,t.Lk)("div",{id:"imagelogo"},[(0,t.Lk)("div",{id:"content"},[(0,t.Lk)("h1",{id:"title"},"Hunting Simulacrum")])],-1))),re=[oe];function ne(e,o,r,n,a,i){return(0,t.uX)(),(0,t.CE)("header",null,re)}var te={name:"ComponentHeaderSmall",methods:{vermas(){document.getElementById("navcontent").scrollIntoView({behavior:"smooth"})}}};const ae=(0,l.A)(te,[["render",ne],["__scopeId","data-v-1b3ca441"]]);var ie=ae;const se=e=>((0,t.Qi)("data-v-66e32ee2"),e=e(),(0,t.jt)(),e),le=se((()=>(0,t.Lk)("h2",null,"Tabla de puntuaciones",-1))),ce=se((()=>(0,t.Lk)("label",{for:"filtername"},"Filtrar por nombre:",-1))),ue=se((()=>(0,t.Lk)("button",{class:"inputform",type:"submit"},"Filtrar",-1))),me={class:"tablediv"},de=se((()=>(0,t.Lk)("thead",null,[(0,t.Lk)("tr",null,[(0,t.Lk)("th",null,"Posición"),(0,t.Lk)("th",null,"Alias/Name"),(0,t.Lk)("th",null,"Tiempo"),(0,t.Lk)("th",null,"Puntuación")])],-1))),pe={key:0,class:"error"},he={id:"downloadgame"};function ge(e,o,r,a,i,s){return(0,t.uX)(),(0,t.CE)("main",null,[le,(0,t.Lk)("form",{onSubmit:o[1]||(o[1]=(...e)=>s.submitForm&&s.submitForm(...e))},[ce,(0,t.bo)((0,t.Lk)("input",{class:"inputform",type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>i.filtername=e),placeholder:"Introduce un nombre"},null,512),[[n.Jo,i.filtername]]),ue],32),(0,t.Lk)("div",me,[(0,t.Lk)("table",null,[de,(0,t.Lk)("tbody",null,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(r.scores,((e,o)=>((0,t.uX)(),(0,t.CE)("tr",{key:e.playerName},[(0,t.Lk)("td",null,(0,k.v_)(o+1),1),(0,t.Lk)("td",null,(0,k.v_)(e.playerName),1),(0,t.Lk)("td",null,(0,k.v_)(this.formatTime(e.completionTime)),1),(0,t.Lk)("td",null,(0,k.v_)(e.score),1)])))),128))])]),r.error?((0,t.uX)(),(0,t.CE)("p",pe,(0,k.v_)(r.error),1)):(0,t.Q3)("",!0)]),(0,t.Lk)("div",he,[(0,t.Lk)("button",{id:"buttondownload",onClick:o[2]||(o[2]=(...e)=>s.downloadGame&&s.downloadGame(...e))},"Decargar juego")])])}var Ae={name:"ComponentMainScores",props:{scores:Array,error:String},emits:["filter"],data(){return{filtername:""}},methods:{submitForm(e){e.preventDefault(),this.$emit("filter",this.filtername)},downloadGame(){const e=`${window.location.origin}/favicon.ico`,o=document.createElement("a");o.href=e,o.setAttribute("download","GameImage"),document.body.appendChild(o),o.click(),document.body.removeChild(o)},formatTime(e){if(!e)return"0";let o=parseFloat(e),r=new Date(1e3*o),n=String(r.getUTCMinutes()).padStart(2,"0"),t=String(r.getUTCSeconds()).padStart(2,"0"),a=String(Math.floor(r.getUTCMilliseconds()/10)).padStart(2,"0");return`${n}:${t}.${a}`}}};const fe=(0,l.A)(Ae,[["render",ge],["__scopeId","data-v-66e32ee2"]]);var we=fe,ve={name:"ViewScoresweb",components:{ComponentHeaderSmall:ie,ComponentNav:Q,ComponentMainScores:we},data(){return{scores:[],errorpeticion:"",filtername:""}},methods:{getScores(e){fetch("https://localhost:7161/GetScore",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((o=>{let r=o.data;e&&(r=r.filter((o=>o.playerName===e))),0===r.length?this.errorpeticion="No se han encontrado resultados":this.errorpeticion="",r.sort(((e,o)=>e.score>o.score?-1:e.score<o.score?1:e.completionTime<o.completionTime?-1:e.completionTime>o.completionTime?1:0)),this.scores=r})).catch((()=>{this.errorpeticion="Error al conectar con el servidor"}))},getFilterName(e){this.filtername=e,this.getScores(this.filtername)}},mounted(){const e=6e5;this.getScores(),setInterval((()=>{this.getScores(this.filtername)}),e)}};const Ce=(0,l.A)(ve,[["render",$],["__scopeId","data-v-55e189a2"]]);var be=Ce;function ke(e,o,r,n,a,i){const s=(0,t.g2)("ComponentHeaderSmall"),l=(0,t.g2)("ComponentForm");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(s),(0,t.bF)(l,{formname:"Iniciar sesión",error:a.errorpeticion,onForminfo:i.connectionApi},null,8,["error","onForminfo"])],64)}const Le=e=>((0,t.Qi)("data-v-6d82c6fa"),e=e(),(0,t.jt)(),e),Se={id:"returnhome"},Ee=Le((()=>(0,t.Lk)("label",{for:"username"},"Nombre de usuario",-1))),ye=Le((()=>(0,t.Lk)("label",{for:"password"},"Contraseña",-1))),Fe={type:"submit"},Pe={key:0,class:"error"};function Ie(e,o,r,a,i,s){return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",Se,[(0,t.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>s.returnHome&&s.returnHome(...e))},"Volver al inicio")]),(0,t.Lk)("main",null,[(0,t.Lk)("h1",null,(0,k.v_)(this.formname),1),(0,t.Lk)("form",{onSubmit:o[3]||(o[3]=(...e)=>s.submitForm&&s.submitForm(...e))},[Ee,(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":o[1]||(o[1]=e=>i.username=e),placeholder:"Nombre de usuario",required:""},null,512),[[n.Jo,i.username]]),ye,(0,t.bo)((0,t.Lk)("input",{type:"password","onUpdate:modelValue":o[2]||(o[2]=e=>i.password=e),placeholder:"Contraseña",required:""},null,512),[[n.Jo,i.password]]),(0,t.Lk)("button",Fe,(0,k.v_)(this.formname),1)],32),r.error?((0,t.uX)(),(0,t.CE)("span",Pe,(0,k.v_)(r.error),1)):(0,t.Q3)("",!0)])],64)}var Ne={name:"ComponentForm",props:{formname:String,error:String},emits:["forminfo"],data(){return{username:"",password:""}},methods:{submitForm(e){e.preventDefault(),this.$emit("forminfo",{username:this.username,password:this.password})},returnHome(){this.$router.push("/")}}};const He=(0,l.A)(Ne,[["render",Ie],["__scopeId","data-v-6d82c6fa"]]);var Xe=He,Be={name:"ViewLogin",components:{ComponentHeaderSmall:ie,ComponentForm:Xe},data(){return{errorpeticion:""}},methods:{connectionApi(e){fetch("https://localhost:7161/CheckLogin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.username,password:e.password})}).then((e=>e.json())).then((o=>{this.errorpeticion="",o.isSuccess?(localStorage.setItem("user",JSON.stringify(e)),this.$router.push("/")):this.errorpeticion="Login incorrecto, comprueba el usuario y la contraseña"})).catch((()=>{this.errorpeticion="Error de conexión"}))}}};const Qe=(0,l.A)(Be,[["render",ke]]);var De=Qe;function je(e,o,r,n,a,i){const s=(0,t.g2)("ComponentHeaderSmall"),l=(0,t.g2)("ComponentForm");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(s),(0,t.bF)(l,{formname:"Registrarse",error:a.errorpeticion,onForminfo:i.connectionApi},null,8,["error","onForminfo"])],64)}var Re={name:"ViewRegister",components:{ComponentHeaderSmall:ie,ComponentForm:Xe},data(){return{errorpeticion:""}},mounted(){this.errorpeticion=""},methods:{connectionApi(e){fetch("https://localhost:7161/RegisterPlayer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.username,password:e.password})}).then((e=>e.json())).then((o=>{this.errorpeticion="",o.isSuccess?(localStorage.setItem("user",JSON.stringify(e)),this.$router.push("/")):this.errorpeticion="Error al registrar el usuario, usuario ya existente"})).catch((()=>{this.errorpeticion="Error de conexión"}))}}};const Oe=(0,l.A)(Re,[["render",je]]);var Je=Oe;function Te(e,o,r,n,a,i){const s=(0,t.g2)("ComponentHeaderSmall"),l=(0,t.g2)("ComponentFormChangePassword");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.bF)(s),(0,t.bF)(l,{formname:"Cambiar contraseña",error:a.errorpeticion,onForminfo:i.changePassword},null,8,["error","onForminfo"])],64)}const Ue=e=>((0,t.Qi)("data-v-bc8e0628"),e=e(),(0,t.jt)(),e),Me={id:"returnhome"},Ve=Ue((()=>(0,t.Lk)("label",{for:"current-password"},"Antigua contraseña:",-1))),Ke=Ue((()=>(0,t.Lk)("label",{for:"new-password"},"Nueva contraseña:",-1))),qe=Ue((()=>(0,t.Lk)("label",{for:"confirm-password"},"Confirmar contraseña:",-1))),Ge={type:"submit"},xe={key:0,class:"error"};function Ye(e,o,r,a,i,s){return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("div",Me,[(0,t.Lk)("button",{onClick:o[0]||(o[0]=(...e)=>s.returnHome&&s.returnHome(...e))},"Volver al inicio")]),(0,t.Lk)("main",null,[(0,t.Lk)("h1",null,(0,k.v_)(this.formname),1),(0,t.Lk)("h3",null,(0,k.v_)(this.currentUser),1),(0,t.Lk)("form",{onSubmit:o[4]||(o[4]=(...e)=>s.submitForm&&s.submitForm(...e))},[Ve,(0,t.bo)((0,t.Lk)("input",{type:"password",id:"current-password","onUpdate:modelValue":o[1]||(o[1]=e=>i.currentPassword=e),placeholder:"Antigua contraseña",required:""},null,512),[[n.Jo,i.currentPassword]]),Ke,(0,t.bo)((0,t.Lk)("input",{type:"password",id:"new-password","onUpdate:modelValue":o[2]||(o[2]=e=>i.newPassword=e),placeholder:"Nueva contraseña",required:""},null,512),[[n.Jo,i.newPassword]]),qe,(0,t.bo)((0,t.Lk)("input",{type:"password",id:"confirm-password","onUpdate:modelValue":o[3]||(o[3]=e=>i.confirmPassword=e),placeholder:"Confirmar contraseña",required:""},null,512),[[n.Jo,i.confirmPassword]]),(0,t.Lk)("button",Ge,(0,k.v_)(this.formname),1)],32),this.error?((0,t.uX)(),(0,t.CE)("p",xe,(0,k.v_)(this.error),1)):(0,t.Q3)("",!0)])],64)}var We={name:"ComponentFormChangePassword",props:{formname:String,error:String},emits:["forminfo"],data(){return{currentPassword:"",newPassword:"",confirmPassword:"",currentUser:"El usuario actual es: "}},methods:{submitForm(e){e.preventDefault(),this.$emit("forminfo",{currentPassword:this.currentPassword,newPassword:this.newPassword,confirmPassword:this.confirmPassword,player:JSON.parse(localStorage.getItem("user"))})},returnHome(){this.$router.push("/")}},mounted(){localStorage.getItem("user")?this.currentUser=`El usuario actual es: ${JSON.parse(localStorage.getItem("user")).username}`:this.currentUser="No hay usuario logeado"}};const ze=(0,l.A)(We,[["render",Ye],["__scopeId","data-v-bc8e0628"]]);var Ze=ze,_e={data(){return{errorpeticion:""}},components:{ComponentHeaderSmall:ie,ComponentFormChangePassword:Ze},methods:{changePassword(e){e.newPassword===e.confirmPassword?fetch("https://localhost:7161/ChangePassword",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerCheck:{name:e.player.username,password:e.currentPassword},newPassword:e.newPassword})}).then((e=>e.json())).then((o=>{if(o.isSuccess){alert("Contraseña cambiada con éxito");let o=JSON.parse(localStorage.getItem("user"));o.password=e.newPassword,localStorage.setItem("user",JSON.stringify(o)),this.$router.push("/")}else this.errorpeticion="Error al cambiar la contraseña, compruebe que la contraseña actual es correcta"})).catch((()=>{this.error="Error de conexión"})):this.errorpeticion="Las contraseñas no coinciden"}}};const $e=(0,l.A)(_e,[["render",Te]]);var eo=$e;const oo=[{path:"/",name:"Home",component:_},{path:"/scoresweb",name:"Scoresweb",component:be},{path:"/login",name:"Login",component:De},{path:"/register",name:"Register",component:Je},{path:"/changepassword",name:"ChangePassword",component:eo},{path:"/:pathMatch(.*)*",redirect:{name:"Home"}}],ro=(0,m.aE)({history:(0,m.LA)("/"),routes:oo});var no=ro;(0,n.Ef)(u).use(no).mount("#app")}},o={};function r(n){var t=o[n];if(void 0!==t)return t.exports;var a=o[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(o,n,t,a){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],t=e[u][1],a=e[u][2];for(var s=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[l])}))?n.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(u--,1);var c=t();void 0!==c&&(o=c)}}return o}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,t,a]}}(),function(){r.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(o,{a:o}),o}}(),function(){r.d=function(e,o){for(var n in o)r.o(o,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){r.p="/"}(),function(){var e={524:0};r.O.j=function(o){return 0===e[o]};var o=function(o,n){var t,a,i=n[0],s=n[1],l=n[2],c=0;if(i.some((function(o){return 0!==e[o]}))){for(t in s)r.o(s,t)&&(r.m[t]=s[t]);if(l)var u=l(r)}for(o&&o(n);c<i.length;c++)a=i[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(u)},n=self["webpackChunkhuntingsimulacrum"]=self["webpackChunkhuntingsimulacrum"]||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))}();var n=r.O(void 0,[504],(function(){return r(3811)}));n=r.O(n)})();
//# sourceMappingURL=app.1babf583.js.map